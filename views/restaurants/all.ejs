<% include ../partials/head %>

<header id="bootstrap-override">
<nav class="navbar navbar-inverse navbar-black">
 <div class="container-fluid">
   <!-- Brand and toggle get grouped for better mobile display -->
   <div class="navbar-header">
     <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
       <span class="sr-only">Toggle navigation</span>
       <span class="icon-bar"></span>
       <span class="icon-bar"></span>
       <span class="icon-bar"></span>
     </button>
     <a class="navbar-brand" href="/">Sugar Rush</a>
   </div>
   <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
     <ul class="nav navbar-nav navbar-right">
             <li><a href="/restaurants">Order</a></li>
             <li><a href="/local/logout">Logout</a></li>
     </ul>
   </div><!-- /.navbar-collapse -->
 </div><!-- /.container-fluid -->
</nav>
</header>

<script>
  // Clears the information for the shopping cart
  localStorage.clear();
</script>

<div id="main-background">
<div id="background">
  <div id="carousel-box">
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
      </ol>

      <!-- Wrapper for slides -->
      <div class="carousel-inner" role="listbox">
        <div class="item active">
          <img src="http://i.imgur.com/HLnXAST.png" alt="food" class="slides">
        </div>

        <div class="item">
          <img src="http://i.imgur.com/6GYRxoe.png" alt="food" class="slides">
        </div>

        <div class="item">
          <img src="http://i.imgur.com/hAXlhNv.jpg" alt="food" class="slides">
        </div>
      </div>

      <!-- Left and right controls -->
      <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
  </div>
</div>
<br>

<h1 id="restaurants-title">Choose Your Temptation</h1>
<hr id="under-restaurants">
<br>

<center>
  <div class="row">

        <!-- Loops through each restaurant and each of the restaurant's
        available items. The add to cart button is given an id
        containing the item name, the restaurant name, the item price,
        the item id, the item picture. Clicking checkout, sends them to
        local storage                                                -->

    <div class="col-xs-3"></div>
    <div class="col-xs-3">
      <select class="form-control" id="select-search">
        <option value="restaurant" id="search-by-rest">Restaurant</option>
        <option value="dessert" id="search-by-dess">Dessert</option>
      </select>
    </div>

        <div class="col-xs-3">
            <input type="text" name="keyword" class="form-control" placeholder="Cupcake, Porto's, Ice Cream" id="search-bar">
        </div>
        <div class="col-xs-3">
            <input type="submit" value="Go" class="btn" id="search-button">
        </div>
    </div>
  </div>
</center>

<br>

  <center><a href="/restaurants" id="button-link"><button class="btn" id="show-rest" style="display: none">Show All Restaurants</button></a></center>

  <br>

  <div class="row">
    <div class="col-sm-3"></div>
    <div class="col-sm-6">
        <% for(i=0; i<restaurants.length; i++) { %>

        <div id="<%= restaurants[i].name %>" class="all-restaurants">
          <h4 id="restaurant-name" class="restaurants-name"><%= restaurants[i].name %></h4>
          <span id="restaurant-loc"><%= restaurants[i].address %>, <%= restaurants[i].neighborhood %></span>
          <br>
          <br>

          <h4><strong>Menu:</strong></h4>


          <% for(j=0; j<restaurants[i].menu.length; j++) { %>
            <p>
              <div id="menu-items-display">

                <% if(restaurants[i].menu[j].available) { %>

                  <label><input type="checkbox" class="add-to-cart" id="<%= restaurants[i].menu[j].item %>qxz<%= restaurants[i].name %>qxz<%= restaurants[i].menu[j].price %>qxz<%= restaurants[i].menu[j].id %>">

                  &nbsp;&nbsp;&nbsp;<%= restaurants[i].menu[j].item %> (<%= restaurants[i].menu[j].price %>)

                  </label>

                <% } else { %>

                <label><input type="checkbox" disabled>
                  &nbsp;&nbsp;&nbsp;<%= restaurants[i].menu[j].item %> (<%= restaurants[i].menu[j].price %>)&nbsp;&nbsp;&nbsp;
                </label>
                  <span class="label label-danger">Currently Unavailable</span>

                <% } %>

              </div>
            </p>
          <% } %>

          <hr id="between-restaurants">
        </div>
        <% } %>

      <center><a href="/orders/shoppingcart" id="button-link"><button class="btn" id="checkout">Continue to Checkout</button></a></center>
      <br>
      <br>
      <br>

    </div>
    <div class="col-sm-3"></div>
  </div>
</div>


<% include ../partials/footer %>


